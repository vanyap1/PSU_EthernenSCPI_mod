
/*
 * indexPage.h
 *
 * Created: 06.07.2024 15:50:56
 *  Author: Vanya
 */ 
#ifndef  _INDEX_PAGE_H_
#define  _INDEX_PAGE_H_

const char psu_page[] = "HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<title>Power Supply Control</title>\n<style>\nbody {\nfont-family: Arial, sans-serif;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\npadding: 20px;\nbackground: #f0f0f0;\n}\n.container {\nmax-width: 400px;\nwidth: 100%;\nbackground: white;\npadding: 20px;\nborder-radius: 10px;\nbox-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n}\n.title {\ntext-align: center;\nmargin-bottom: 20px;\n}\n.row, .input-row, .preset-row {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nmargin-bottom: 10px;\n}\n.row label, .input-row label, .preset-row label {\nflex: 1;\n}\n.row input, .input-row input, .preset-row input {\nwidth: 100px;\ntext-align: center;\n}\n.button-row {\ndisplay: flex;\njustify-content: space-between;\nmargin-top: 20px;\n}\n.button {\nwidth: 48%;\npadding: 10px;\nbackground: #007bff;\ncolor: white;\nborder: none;\nborder-radius: 5px;\ncursor: pointer;\n}\n.button:hover {\nbackground: #0056b3;\n}\n.preset-row {\ndisplay: flex;\njustify-content: space-between;\nmargin-top: 20px;\n}\n.preset-button {\nwidth: 32%;\npadding: 10px;\nbackground: #28a745;\ncolor: white;\nborder: none;\nborder-radius: 5px;\ncursor: pointer;\n}\n.preset-button:hover {\nbackground: #218838;\n}\n.separator {\nwidth: 100%;\nheight: 1px;\nbackground: #ddd;\nmargin: 20px 0;\n}\n.row .spaced-input {\nmargin-left: 10px;\n}\n.status-indicator {\nwidth: 20px;\nheight: 20px;\nborder-radius: 50%;\nbackground: #ccc; /* Default to gray */\n}\n.indicator-container {\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\n}\n.indicator-label {\nmargin-top: 5px;\ntext-align: center;\n}\n.checkbox-container {\ndisplay: flex;\nalign-items: center;\nmargin-left: 10px;\n}\n.checkbox-container label {\nmargin-left: 5px;\n}\n</style>\n</head>\n<body>\n<div class=\"container\">\n<h1 class=\"title\">Power Supply Control</h1>\n<div class=\"row\">\n<label>Preset Amp / DMM:</label>\n<input type=\"text\" id=\"amp-set\" readonly class=\"spaced-input\">\n<input type=\"text\" id=\"amp-dmm\" readonly class=\"spaced-input\">\n</div>\n<div class=\"row\">\n<label>Preset Volt / DMM:</label>\n<input type=\"text\" id=\"volt-set\" readonly class=\"spaced-input\">\n<input type=\"text\" id=\"volt-dmm\" readonly class=\"spaced-input\">\n</div>\n<div class=\"row\">\n<label>Watt - Watt DMM:</label>\n<input type=\"text\" id=\"watt-display\" readonly>\n</div>\n<div class=\"input-row\">\n<label for=\"amp-input\">Set New Amp:</label>\n<input type=\"text\" id=\"amp-input\">\n</div>\n<div class=\"input-row\">\n<label for=\"volt-input\">Set New Volt:</label>\n<input type=\"text\" id=\"volt-input\">\n</div>\n<div class=\"button-row\">\n<div class=\"indicator-container\">\n<div class=\"status-indicator\" id=\"status-indicator\"></div>\n<div class=\"indicator-label\">Out</div>\n</div>\n<div class=\"indicator-container\">\n<div class=\"status-indicator\" id=\"err-indicator\"></div>\n<div class=\"indicator-label\">Err</div>\n</div>\n<div class=\"indicator-container\">\n<div class=\"status-indicator\" id=\"in0-indicator\"></div>\n<div class=\"indicator-label\">IN0</div>\n</div>\n<div class=\"indicator-container\">\n<div class=\"status-indicator\" id=\"in1-indicator\"></div>\n<div class=\"indicator-label\">IN1</div>\n</div>\n<div class=\"indicator-container\">\n<div class=\"status-indicator\" id=\"in2-indicator\"></div>\n<div class=\"indicator-label\">IN2</div>\n</div>\n\n<div class=\"checkbox-container\">\n<input type=\"checkbox\" id=\"remote-control-checkbox\">\n<label for=\"remote-control-checkbox\">Remote Control</label>\n</div>\n</div>\n\n<div class=\"button-row\">\n<button class=\"button\" style=\"margin-left: auto;\" onclick=\"setValues()\">Set Values</button>\n</div>\n<div class=\"button-row\">\n<button class=\"button\" onclick=\"controlDevice('psu','on')\">Turn PSU On</button>\n<button class=\"button\" onclick=\"controlDevice('psu','off')\">Turn PSU Off</button>\n</div>\n<div class=\"separator\"></div>\n<div class=\"button-row\">\n<button class=\"button\" onclick=\"controlDevice('fan','on')\">Turn Fan On</button>\n<button class=\"button\" onclick=\"controlDevice('fan','off')\">Turn Fan Off</button>\n</div>\n<div class=\"separator\"></div>\n<div class=\"preset-row\">\n<button class=\"preset-button\" onclick=\"setPreset(1)\">5V 1A</button>\n<button class=\"preset-button\" onclick=\"setPreset(2)\">12V 2A</button>\n<button class=\"preset-button\" onclick=\"setPreset(3)\">24V 2A</button>\n</div>\n</div>\n<script>\nfunction fetchValues() {\nfetch('/get_vals')\n.then(response => response.json())\n.then(data => {\ndocument.getElementById('amp-set').value = data.amp.toFixed(2);\ndocument.getElementById('volt-set').value = data.volt.toFixed(2);\ndocument.getElementById('watt-display').value = data.watt.toFixed(2);\ndocument.getElementById('amp-dmm').value = data.ampDMM.toFixed(2);\ndocument.getElementById('volt-dmm').value = data.voltDMM.toFixed(2);\n\n// Update the status indicator color based on outState\nconst statusIndicator = document.getElementById('status-indicator');\nif (data.outState === 0) {\nstatusIndicator.style.background = '#ccc'; // gray\n} else if (data.outState === 1) {\nstatusIndicator.style.background = '#28a745'; // green\n} else if (data.outState === 2) {\nstatusIndicator.style.background = '#dc3545'; // red\n}\n\n// Update the error indicator color based on err\nconst errIndicator = document.getElementById('err-indicator');\nerrIndicator.style.background = data.err === 1 ? '#dc3545' : '#ccc'; // red if error, gray otherwise\n\n// Update the IN0, IN1, IN2 indicators based on in0, in1, in2\nconst in0Indicator = document.getElementById('in0-indicator');\nconst in1Indicator = document.getElementById('in1-indicator');\nconst in2Indicator = document.getElementById('in2-indicator');\n\nin0Indicator.style.background = data.in0 === 1 ? '#28a745' : '#ccc'; // green if active, gray otherwise\nin1Indicator.style.background = data.in1 === 1 ? '#28a745' : '#ccc'; // green if active, gray otherwise\nin2Indicator.style.background = data.in2 === 1 ? '#28a745' : '#ccc'; // green if active, gray otherwise\n\n// Update the checkbox state based on remoteCtrl\ndocument.getElementById('remote-control-checkbox').checked = data.rem === 1;\n})\n.catch(error => console.error('Error fetching values:', error));\n}\n\nfunction setValues() {\nconst amp = parseFloat(document.getElementById('amp-input').value);\nconst volt = parseFloat(document.getElementById('volt-input').value);\nfetch(`/set_vals?amp=${amp}&volt=${volt}`)\n.then(response => response.json())\n.then(data => {\nif (data.success) {\nfetchValues();\n} else {\nalert('Error setting values');\n}\n})\n.catch(error => console.error('Error setting values:', error));\n}\n\nfunction controlDevice(device, action) {\nfetch(`/control?device=${device}&action=${action}`)\n.then(response => response.json())\n.then(data => {\nif (data.success) {\nalert(`${device.toUpperCase()} ${action.toUpperCase()} Successful`);\n} else {\nalert(`Error ${action}ing ${device}`);\n}\n})\n.catch(error => console.error(`Error ${action}ing ${device}:`, error));\n}\n\nfunction setPreset(preset) {\nlet amp, volt;\nif (preset == 1) {\namp = 1.25;\nvolt = 5.3;\n} else if (preset == 2) {\namp = 2.0;\nvolt = 12.0;\n} else if (preset == 3) {\namp = 2.0;\nvolt = 24.0;\n}\ndocument.getElementById('amp-input').value = amp;\ndocument.getElementById('volt-input').value = volt;\nsetValues();\n}\n\ndocument.getElementById('remote-control-checkbox').addEventListener('change', function() {\nconst action = this.checked ? 'on' : 'off';\nfetch(`/control?device=rem&action=${action}`)\n.then(response => response.json())\n.then(data => {\nif (data.success) {\nconsole.log(`Remote control ${action} successful`);\n} else {\nalert(`Error ${action}ing remote control`);\n}\n})\n.catch(error => console.error(`Error ${action}ing remote control:`, error));\n});\n\nsetInterval(fetchValues, 1000);\n</script>\n</body>\n</html>\n";
		
		
	
#endif